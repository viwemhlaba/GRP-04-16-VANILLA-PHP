import{j as e,L as k,$ as j}from"./app-DD1_j264.js";import{B as t}from"./badge-PeB8ie60.js";import{B as o}from"./createLucideIcon-CJXjctMu.js";import{C as d,a,b as x,d as i,c as f}from"./card-DMpxeHKD.js";import{T as v,a as g,b as c,c as s,d as N,e as l}from"./table-Bx2kdRqw.js";import{A as C,S}from"./app-layout-BjO8UPhY.js";import{T as A}from"./triangle-alert-BbcsabZN.js";import{P as y}from"./package-ZoGHK-yM.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function I({critical_medications:m,low_stock_medications:u,out_of_stock_medications:p,medications_with_orders:b}){const w=r=>r.quantity_on_hand===0?{status:"Out of Stock",variant:"destructive",urgency:"critical"}:r.quantity_on_hand<=r.reorder_level?{status:"Critical",variant:"destructive",urgency:"critical"}:r.quantity_on_hand<=r.reorder_level+10?{status:"Low Stock",variant:"secondary",urgency:"warning"}:{status:"Normal",variant:"default",urgency:"normal"};return e.jsxs(C,{children:[e.jsx(k,{title:"Low Stock Overview"}),e.jsxs("div",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-white",children:"Stock Level Overview"}),e.jsx("p",{className:"mt-2 text-white",children:"Monitor and manage medication stock levels across your pharmacy"})]}),e.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-4 sm:grid-cols-3",children:[e.jsxs(d,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Critical Stock"}),e.jsx(A,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"At or below reorder level"})]})]}),e.jsxs(d,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Low Stock"}),e.jsx(y,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:u.length}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Within 10 units of reorder level"})]})]}),e.jsxs(d,{children:[e.jsxs(a,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(x,{className:"text-sm font-medium",children:"Out of Stock"}),e.jsx(S,{className:"text-muted-foreground h-4 w-4"})]}),e.jsxs(i,{children:[e.jsx("div",{className:"text-2xl font-bold",children:p.length}),e.jsx("p",{className:"text-muted-foreground text-xs",children:"Completely depleted"})]})]})]}),e.jsxs("div",{className:"mb-6 flex space-x-4",children:[e.jsx(j,{href:route("manager.orders.create"),children:e.jsxs(o,{size:"lg",children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Order Stock"]})}),e.jsx(j,{href:route("manager.medications.stock.index"),children:e.jsxs(o,{variant:"outline",size:"lg",children:[e.jsx(y,{className:"mr-2 h-4 w-4"}),"Manage Stock"]})})]}),m.length>0&&e.jsxs(d,{className:"mb-8",children:[e.jsxs(a,{children:[e.jsx(x,{children:"Critical Stock - Immediate Action Required"}),e.jsx(f,{children:"These medications are at or below their reorder level and need immediate attention"})]}),e.jsx(i,{children:e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Medication"}),e.jsx(s,{children:"Schedule"}),e.jsx(s,{children:"Current Stock"}),e.jsx(s,{children:"Reorder Level"}),e.jsx(s,{children:"Supplier"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Action"})]})}),e.jsx(N,{children:m.map(r=>{var h;const n=w(r);return e.jsxs(c,{children:[e.jsx(l,{className:"font-medium",children:r.name}),e.jsx(l,{children:e.jsx(t,{variant:"outline",children:r.schedule})}),e.jsx(l,{className:"font-semibold",children:r.quantity_on_hand}),e.jsx(l,{children:r.reorder_level}),e.jsx(l,{children:((h=r.supplier)==null?void 0:h.name)||"N/A"}),e.jsx(l,{children:e.jsx(t,{variant:n.variant,children:n.status})}),e.jsx(l,{children:e.jsx(j,{href:route("manager.orders.create",{medication:r.id}),children:e.jsx(o,{size:"sm",variant:"destructive",children:"Order Now"})})})]},r.id)})})]})})]}),u.length>0&&e.jsxs(d,{className:"mb-8",children:[e.jsxs(a,{children:[e.jsx(x,{children:"Low Stock - Monitor Closely"}),e.jsx(f,{children:"These medications are getting low but not yet critical"})]}),e.jsx(i,{children:e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Medication"}),e.jsx(s,{children:"Schedule"}),e.jsx(s,{children:"Current Stock"}),e.jsx(s,{children:"Reorder Level"}),e.jsx(s,{children:"Supplier"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Action"})]})}),e.jsx(N,{children:u.map(r=>{var h;const n=w(r);return e.jsxs(c,{children:[e.jsx(l,{className:"font-medium",children:r.name}),e.jsx(l,{children:e.jsx(t,{variant:"outline",children:r.schedule})}),e.jsx(l,{className:"font-semibold",children:r.quantity_on_hand}),e.jsx(l,{children:r.reorder_level}),e.jsx(l,{children:((h=r.supplier)==null?void 0:h.name)||"N/A"}),e.jsx(l,{children:e.jsx(t,{variant:n.variant,children:n.status})}),e.jsx(l,{children:e.jsx(j,{href:route("manager.orders.create",{medication:r.id}),children:e.jsx(o,{size:"sm",variant:"outline",children:"Add to Order"})})})]},r.id)})})]})})]}),p.length>0&&e.jsxs(d,{className:"mb-8",children:[e.jsxs(a,{children:[e.jsx(x,{children:"Out of Stock - Urgent Reorder"}),e.jsx(f,{children:"These medications are completely out of stock"})]}),e.jsx(i,{children:e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Medication"}),e.jsx(s,{children:"Schedule"}),e.jsx(s,{children:"Reorder Level"}),e.jsx(s,{children:"Supplier"}),e.jsx(s,{children:"Status"}),e.jsx(s,{children:"Action"})]})}),e.jsx(N,{children:p.map(r=>{var n;return e.jsxs(c,{children:[e.jsx(l,{className:"font-medium",children:r.name}),e.jsx(l,{children:e.jsx(t,{variant:"outline",children:r.schedule})}),e.jsx(l,{children:r.reorder_level}),e.jsx(l,{children:((n=r.supplier)==null?void 0:n.name)||"N/A"}),e.jsx(l,{children:e.jsx(t,{variant:"destructive",children:"Out of Stock"})}),e.jsx(l,{children:e.jsx(j,{href:route("manager.orders.create",{medication:r.id}),children:e.jsx(o,{size:"sm",variant:"destructive",children:"Urgent Order"})})})]},r.id)})})]})})]}),b.length>0&&e.jsxs(d,{children:[e.jsxs(a,{children:[e.jsxs(x,{className:"flex items-center gap-2",children:[e.jsx(S,{className:"h-5 w-5 text-blue-600"}),"Medications with Pending Orders"]}),e.jsxs(f,{children:["Medications that have been ordered but not yet received (",b.length," items)"]})]}),e.jsx(i,{children:e.jsxs(v,{children:[e.jsx(g,{children:e.jsxs(c,{children:[e.jsx(s,{children:"Medication"}),e.jsx(s,{children:"Schedule"}),e.jsx(s,{children:"Current Stock"}),e.jsx(s,{children:"Reorder Level"}),e.jsx(s,{children:"Supplier"}),e.jsx(s,{children:"Order Details"}),e.jsx(s,{children:"Status"})]})}),e.jsx(N,{children:b.map(r=>{var n;return e.jsxs(c,{children:[e.jsx(l,{className:"font-medium",children:r.name}),e.jsx(l,{children:e.jsx(t,{variant:"outline",children:r.schedule})}),e.jsx(l,{children:r.quantity_on_hand}),e.jsx(l,{children:r.reorder_level}),e.jsx(l,{children:((n=r.supplier)==null?void 0:n.name)||"N/A"}),e.jsx(l,{children:r.pending_order_items&&r.pending_order_items.length>0&&e.jsxs("div",{className:"text-sm",children:[e.jsxs("div",{className:"font-medium",children:["Order: ",r.pending_order_items[0].stock_order.order_number]}),e.jsxs("div",{className:"text-muted-foreground",children:["Qty: ",r.pending_order_items[0].quantity]}),e.jsx("div",{className:"text-muted-foreground",children:new Date(r.pending_order_items[0].stock_order.created_at).toLocaleDateString()})]})}),e.jsx(l,{children:e.jsx(t,{variant:"secondary",children:"Order Placed"})})]},r.id)})})]})})]}),m.length===0&&u.length===0&&p.length===0&&e.jsx(d,{children:e.jsxs(i,{className:"py-12 text-center",children:[e.jsx(y,{className:"text-muted-foreground mx-auto mb-4 h-12 w-12"}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"All Stock Levels Good"}),e.jsx("p",{className:"text-muted-foreground",children:"All medications are currently above their reorder levels. No immediate action required."})]})})]})]})}export{I as default};
