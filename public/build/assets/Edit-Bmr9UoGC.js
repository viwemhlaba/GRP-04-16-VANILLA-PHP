import{r as v,j as e}from"./app-DD1_j264.js";function j({medication:l,dosageForms:o=[],suppliers:c=[],activeIngredients:h=[]}){const[t,d]=v.useState({...l,active_ingredients:l.active_ingredients||[{id:"",strength:""}]}),i=n=>{d({...t,[n.target.name]:n.target.value})},u=(n,a,r)=>{const s=[...t.active_ingredients];s[n][a]=r,d({...t,active_ingredients:s})},p=()=>{d({...t,active_ingredients:[...t.active_ingredients,{id:"",strength:""}]})},g=n=>{d({...t,active_ingredients:t.active_ingredients.filter((a,r)=>r!==n)})},m=n=>{n.preventDefault(),Inertia.put(route("medications.update",l.id),t)};return e.jsxs("form",{onSubmit:m,children:[e.jsx("h1",{children:"Edit Medication"}),e.jsx("input",{name:"name",value:t.name,onChange:i,placeholder:"Name",required:!0}),e.jsxs("select",{name:"dosage_form_id",value:t.dosage_form_id,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select Dosage Form"}),o.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),e.jsx("input",{name:"schedule",type:"number",min:"0",max:"6",value:t.schedule,onChange:i,placeholder:"Schedule",required:!0}),e.jsx("input",{name:"current_sale_price",type:"number",step:"0.01",value:t.current_sale_price,onChange:i,placeholder:"Sale Price",required:!0}),e.jsxs("select",{name:"supplier_id",value:t.supplier_id,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select Supplier"}),c.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),e.jsx("input",{name:"reorder_level",type:"number",value:t.reorder_level,onChange:i,placeholder:"Reorder Level",required:!0}),e.jsx("input",{name:"quantity_on_hand",type:"number",value:t.quantity_on_hand,onChange:i,placeholder:"Quantity On Hand",required:!0}),e.jsx("h3",{children:"Ingredients"}),t.active_ingredients.map((n,a)=>e.jsxs("div",{children:[e.jsxs("select",{value:n.id,onChange:r=>u(a,"id",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Ingredient"}),h.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx("input",{value:n.strength,onChange:r=>u(a,"strength",r.target.value),placeholder:"Strength (e.g. 500mg)",required:!0}),t.active_ingredients.length>1&&e.jsx("button",{type:"button",onClick:()=>g(a),children:"Remove"})]},a)),e.jsx("button",{type:"button",onClick:p,children:"Add Ingredient"}),e.jsx("button",{type:"submit",children:"Update"})]})}export{j as default};
