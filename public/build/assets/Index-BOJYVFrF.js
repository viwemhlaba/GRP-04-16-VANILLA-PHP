import{r as h,j as e,L as b,$ as m,S as j}from"./app-DD1_j264.js";import{B as a}from"./createLucideIcon-CJXjctMu.js";import{C,a as v,b as N,c as T,d as _}from"./card-DMpxeHKD.js";import{D as w,a as y,b as P,c as A,d as S,e as k}from"./dialog-BWut1jda.js";import{T as z,a as E,b as u,c as n,d as H,e as i}from"./table-Bx2kdRqw.js";import{A as L,t as p}from"./app-layout-BjO8UPhY.js";import{T as t}from"./index-CtBsO7PD.js";import{P as $}from"./pencil-BvMgf6ao.js";import{T as B}from"./trash-2-2fdkUjjd.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function X({doctors:r}){const c=r.data,[f,l]=h.useState(!1),[o,d]=h.useState(null),g=()=>{o!==null&&j.delete(t("manager.doctors.destroy",o),{onSuccess:()=>{p.success("Doctor deleted"),l(!1),d(null),j.visit(t("manager.doctors.index"))},onError:()=>{p.error("Failed to delete doctor")},onFinish:()=>l(!1)})},x=s=>{s&&(window.location.href=s)};return e.jsxs(L,{breadcrumbs:[{title:"Doctors",href:"/manager/doctors"}],children:[e.jsx(b,{title:"Doctors"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(m,{href:t("manager.doctors.create"),children:e.jsx(a,{children:"Add New Doctor"})})}),c.length>0?e.jsxs(C,{className:"rounded-none",children:[e.jsxs(v,{children:[e.jsx(N,{children:"Doctor List"}),e.jsx(T,{children:"A list of all recorded doctors."})]}),e.jsxs(_,{children:[e.jsxs(z,{children:[e.jsx(E,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Surname"}),e.jsx(n,{children:"Practice Number"}),e.jsx(n,{children:"Email"}),e.jsx(n,{children:"Phone"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:c.map(s=>e.jsxs(u,{children:[e.jsx(i,{children:s.name}),e.jsx(i,{children:s.surname}),e.jsx(i,{children:s.practice_number}),e.jsx(i,{children:s.email}),e.jsx(i,{children:s.phone}),e.jsxs(i,{className:"flex justify-end space-x-2 text-right",children:[e.jsx(m,{href:t("manager.doctors.edit",s.id),children:e.jsx(a,{variant:"outline",size:"icon",children:e.jsx($,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"destructive",size:"icon",onClick:()=>{d(s.id),l(!0)},children:e.jsx(B,{className:"h-4 w-4"})})]})]},s.id))})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(a,{variant:"outline",size:"sm",disabled:!r.prev_page_url,onClick:()=>x(r.prev_page_url),children:"Previous"}),e.jsxs("span",{children:["Page ",r.current_page," of ",r.last_page]}),e.jsx(a,{variant:"outline",size:"sm",disabled:!r.next_page_url,onClick:()=>x(r.next_page_url),children:"Next"})]})]})]}):e.jsx("div",{className:"text-muted-foreground py-8 text-center",children:"No doctors found."}),e.jsx(w,{open:f,onOpenChange:l,children:e.jsxs(y,{children:[e.jsxs(P,{children:[e.jsx(A,{children:"Are you sure you want to delete this?"}),e.jsx(S,{children:(()=>{const s=r.data.find(D=>D.id===o);return s?`${s.name} ${s.surname} will be permanently removed.`:"This action cannot be undone."})()})]}),e.jsxs(k,{children:[e.jsx(a,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:g,children:"Delete"})]})]})})]})]})}export{X as default};
