import{r as u,j as e,L as y,$ as p,S as f}from"./app-DD1_j264.js";import{B as n}from"./createLucideIcon-CJXjctMu.js";import{C as S,a as P,b as w,c as A,d as _}from"./card-DMpxeHKD.js";import{D as k,a as z,b as E,c as H,d as L,e as B}from"./dialog-BWut1jda.js";import{T as F,a as O,b as g,c as t,d as $,e as l}from"./table-Bx2kdRqw.js";import{A as R,t as C}from"./app-layout-BjO8UPhY.js";import{T as o}from"./index-CtBsO7PD.js";import{P as U}from"./pencil-BvMgf6ao.js";import{T as I}from"./trash-2-2fdkUjjd.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function ae({suppliers:a}){const x=s=>{s&&(window.location.href=s)},r=s=>!!s&&typeof s=="object"&&Array.isArray(s.data),c=r(a)?a.data:a??[],b=r(a)?a.current_page:1,v=r(a)?a.last_page:1,h=r(a)?a.next_page_url:null,m=r(a)?a.prev_page_url:null,[T,i]=u.useState(!1),[d,j]=u.useState(null),D=()=>{d!==null&&f.delete(o("manager.suppliers.destroy",d),{onSuccess:()=>{C.success("Supplier deleted"),i(!1),j(null),f.visit(o("manager.suppliers.index"))},onError:()=>C.error("Failed to delete supplier"),onFinish:()=>i(!1)})};return e.jsxs(R,{breadcrumbs:[{title:"Suppliers",href:"/manager/suppliers"}],children:[e.jsx(y,{title:"Suppliers"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(p,{href:o("manager.suppliers.create"),children:e.jsx(n,{children:"Add New Supplier"})})}),c.length>0?e.jsxs(S,{className:"rounded-none",children:[e.jsxs(P,{children:[e.jsx(w,{children:"Supplier List"}),e.jsx(A,{children:"A list of all recorded suppliers."})]}),e.jsxs(_,{children:[e.jsxs(F,{children:[e.jsx(O,{children:e.jsxs(g,{children:[e.jsx(t,{children:"Name"}),e.jsx(t,{children:"Contact Person"}),e.jsx(t,{children:"Email"}),e.jsx(t,{className:"text-right",children:"Actions"})]})}),e.jsx($,{children:c.map(s=>e.jsxs(g,{children:[e.jsx(l,{children:s.name}),e.jsx(l,{children:s.contact_person}),e.jsx(l,{children:s.email}),e.jsxs(l,{className:"flex justify-end space-x-2 text-right",children:[e.jsx(p,{href:o("manager.suppliers.edit",s.id),children:e.jsx(n,{variant:"outline",size:"icon",children:e.jsx(U,{className:"h-4 w-4"})})}),e.jsx(n,{variant:"destructive",size:"icon",onClick:()=>{j(s.id),i(!0)},children:e.jsx(I,{className:"h-4 w-4"})})]})]},s.id))})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(n,{variant:"outline",size:"sm",disabled:!m,onClick:()=>x(m),children:"Previous"}),e.jsxs("span",{children:["Page ",b," of ",v]}),e.jsx(n,{variant:"outline",size:"sm",disabled:!h,onClick:()=>x(h),children:"Next"})]})]})]}):e.jsx("div",{className:"text-muted-foreground py-8 text-center",children:"No suppliers found."}),e.jsx(k,{open:T,onOpenChange:i,children:e.jsxs(z,{children:[e.jsxs(E,{children:[e.jsx(H,{children:"Are you sure you want to delete this?"}),e.jsx(L,{children:(()=>{const s=c.find(N=>N.id===d);return s?`${s.name} will be permanently removed.`:"This action cannot be undone."})()})]}),e.jsxs(B,{children:[e.jsx(n,{variant:"outline",onClick:()=>i(!1),children:"Cancel"}),e.jsx(n,{variant:"destructive",onClick:D,children:"Delete"})]})]})})]})]})}export{ae as default};
