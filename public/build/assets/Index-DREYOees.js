import{r as x,j as e,L as v,$ as h,S as j}from"./app-DD1_j264.js";import{B as a}from"./createLucideIcon-CJXjctMu.js";import{C,a as b,b as N,c as T,d as _}from"./card-DMpxeHKD.js";import{D as y,a as D,b as w,c as S,d as A,e as M}from"./dialog-BWut1jda.js";import{T as P,a as k,b as u,c as n,d as H,e as l}from"./table-Bx2kdRqw.js";import{A as L,t as m}from"./app-layout-BjO8UPhY.js";import{P as z}from"./pencil-BvMgf6ao.js";import{T as O}from"./trash-2-2fdkUjjd.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function V({medications:r}){const[p,t]=x.useState(!1),[i,o]=x.useState(null),f=[{title:"Medications",href:"/manager/medications"}],g=()=>{i&&j.delete(route("manager.medications.destroy",i.id),{preserveScroll:!0,onSuccess:()=>{m.success("Medication deleted."),t(!1),o(null),j.visit(route("manager.medications.index"),{preserveScroll:!0})},onError:()=>m.error("Failed to delete medication."),onFinish:()=>t(!1)})},d=s=>{s&&(window.location.href=s)};return e.jsxs(L,{breadcrumbs:f,children:[e.jsx(v,{title:"Medications"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(h,{href:route("manager.medications.create"),children:e.jsx(a,{children:"Add New Medication"})})}),r.data.length>0?e.jsxs(C,{className:"rounded-none",children:[e.jsxs(b,{children:[e.jsx(N,{children:"Medication List"}),e.jsx(T,{children:"A list of all recorded medications."})]}),e.jsxs(_,{children:[e.jsxs(P,{children:[e.jsx(k,{children:e.jsxs(u,{children:[e.jsx(n,{children:"Name"}),e.jsx(n,{children:"Schedule"}),e.jsx(n,{children:"Supplier"}),e.jsx(n,{children:"Reorder Level"}),e.jsx(n,{children:"Quantity On Hand"}),e.jsx(n,{className:"text-right",children:"Actions"})]})}),e.jsx(H,{children:r.data.map(s=>{var c;return e.jsxs(u,{children:[e.jsx(l,{children:s.name}),e.jsx(l,{children:s.schedule}),e.jsx(l,{children:(c=s.supplier)==null?void 0:c.name}),e.jsx(l,{children:s.reorder_level}),e.jsx(l,{children:s.quantity_on_hand}),e.jsxs(l,{className:"flex justify-end space-x-2 text-right",children:[e.jsx(h,{href:route("manager.medications.edit",s.id),children:e.jsx(a,{variant:"outline",size:"icon",children:e.jsx(z,{className:"h-4 w-4"})})}),e.jsx(a,{variant:"destructive",size:"icon",onClick:()=>{o({id:s.id,name:s.name}),t(!0)},children:e.jsx(O,{className:"h-4 w-4"})})]})]},s.id)})})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(a,{variant:"outline",size:"sm",disabled:!r.prev_page_url,onClick:()=>d(r.prev_page_url),children:"Previous"}),e.jsxs("span",{children:["Page ",r.current_page," of ",r.last_page]}),e.jsx(a,{variant:"outline",size:"sm",disabled:!r.next_page_url,onClick:()=>d(r.next_page_url),children:"Next"})]})]})]}):e.jsx("div",{className:"text-muted-foreground py-8 text-center",children:"No medications found."}),e.jsx(y,{open:p,onOpenChange:t,children:e.jsxs(D,{children:[e.jsxs(w,{children:[e.jsx(S,{children:"Are you sure you want to delete this?"}),e.jsx(A,{children:i!=null&&i.name?`"${i.name}" will be permanently removed.`:"This action cannot be undone."})]}),e.jsxs(M,{children:[e.jsx(a,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(a,{variant:"destructive",onClick:g,children:"Delete"})]})]})})]})]})}export{V as default};
