import{j as e,L as P}from"./app-DD1_j264.js";import{B as _}from"./badge-PeB8ie60.js";import{a as C,B as D}from"./createLucideIcon-CJXjctMu.js";import{C as d,a as c,b as n,d as r,c as h}from"./card-DMpxeHKD.js";import{S as f}from"./separator-KBCvUZHV.js";import{T as u,a as y,b as x,c as l,d as v,e as t}from"./table-Bx2kdRqw.js";import{A as T,F as M}from"./app-layout-BjO8UPhY.js";import{D as R}from"./download-C1qKmiEZ.js";import{U as A}from"./user-DbbLjyYx.js";import{P as o}from"./phone-BfRp5dJ8.js";import{M as j}from"./mail-DVHEdVih.js";import{P as F}from"./package-ZoGHK-yM.js";import{C as S}from"./calendar-BYUAldzQ.js";import{P as k}from"./pill-BS0WEZWH.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],I=C("MapPin",B);function se({prescription:s,dispensed_history:N,totals:m,current_pharmacist:i}){const b=()=>{window.open(route("pharmacist.prescriptions.download",s.id),"_blank")},p=a=>{const g={pending:{variant:"secondary",className:"bg-yellow-100 text-yellow-800"},approved:{variant:"default",className:"bg-blue-100 text-blue-800"},dispensed:{variant:"default",className:"bg-green-100 text-green-800"},rejected:{variant:"destructive",className:"bg-red-100 text-red-800"}}[a]||{variant:"outline",className:""};return e.jsx(_,{variant:g.variant,className:g.className,children:a.charAt(0).toUpperCase()+a.slice(1)})},w=[{title:"Prescriptions",href:route("pharmacist.prescriptions.index")},{title:`Prescription #${s.id}`,href:route("pharmacist.prescriptions.show",s.id)}];return e.jsxs(T,{breadcrumbs:w,children:[e.jsx(P,{title:`Prescription #${s.id}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 p-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsxs("h1",{className:"text-2xl font-semibold tracking-tight",children:["Prescription #",s.id]}),e.jsxs("p",{className:"text-muted-foreground text-sm",children:[s.name," â€“ ",s.patient.name]})]}),e.jsxs("div",{className:"flex gap-2 self-start",children:[p(s.status),e.jsxs(D,{onClick:b,variant:"outline",size:"sm",className:"flex items-center gap-2",children:[e.jsx(R,{className:"h-4 w-4"})," PDF"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-3",children:[e.jsxs("div",{className:"space-y-6 lg:col-span-1",children:[e.jsxs(d,{className:"rounded-none",children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-5 w-5"}),"Patient Information"]})}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Full Name"}),e.jsxs("p",{className:"text-base",children:[s.patient.name," ",s.patient.surname]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"ID Number"}),e.jsx("p",{className:"text-base",children:s.patient.id_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Contact"}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(o,{className:"h-3 w-3"}),s.patient.cellphone_number]}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(j,{className:"h-3 w-3"}),s.patient.email]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsxs("p",{className:"flex items-start gap-1 text-sm",children:[e.jsx(I,{className:"mt-1 h-3 w-3 flex-shrink-0"}),s.patient.full_address]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Allergies"}),e.jsx("p",{className:"text-sm",children:s.patient.allergies})]})]})]}),e.jsxs(d,{className:"rounded-none",children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(M,{className:"h-5 w-5"}),"Prescribing Doctor"]})}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Name"}),e.jsx("p",{className:"text-base",children:s.doctor.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Practice Number"}),e.jsx("p",{className:"text-base",children:s.doctor.practice_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Specialization"}),e.jsx("p",{className:"text-base",children:s.doctor.specialization})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Contact"}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(o,{className:"h-3 w-3"}),s.doctor.phone]}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(j,{className:"h-3 w-3"}),s.doctor.email]})]})]})]}),(i==null?void 0:i.pharmacy)&&e.jsxs(d,{className:"rounded-none",children:[e.jsx(c,{children:e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(F,{className:"h-5 w-5"}),"Dispensing Pharmacy"]})}),e.jsxs(r,{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pharmacy Name"}),e.jsx("p",{className:"text-base",children:i.pharmacy.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Registration Number"}),e.jsx("p",{className:"text-base",children:i.pharmacy.registration_number})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Address"}),e.jsx("p",{className:"text-sm",children:i.pharmacy.address})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Contact"}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(o,{className:"h-3 w-3"}),i.pharmacy.phone]}),e.jsxs("p",{className:"flex items-center gap-1 text-sm",children:[e.jsx(j,{className:"h-3 w-3"}),i.pharmacy.email]})]})]})]})]}),e.jsxs("div",{className:"space-y-6 lg:col-span-2",children:[e.jsxs(d,{className:"rounded-none",children:[e.jsxs(c,{children:[e.jsx(n,{children:"Prescription Details"}),e.jsx(h,{children:"Overview and status information"})]}),e.jsx(r,{children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Prescription Name"}),e.jsx("p",{children:s.name})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Status"}),e.jsx("div",{className:"mt-1",children:p(s.status)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Delivery Method"}),e.jsx("p",{className:"capitalize",children:s.delivery_method})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Type"}),e.jsx("p",{children:s.is_manual?"Manual Entry":"Uploaded"})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Repeats"}),e.jsxs("p",{children:[s.repeats_used," of ",s.repeats_total," used"]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Created Date"}),e.jsxs("p",{className:"flex items-center gap-1",children:[e.jsx(S,{className:"h-3 w-3"}),new Date(s.created_at).toLocaleDateString()]})]}),s.next_repeat_date&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Next Repeat Available"}),e.jsx("p",{children:new Date(s.next_repeat_date).toLocaleDateString()})]}),s.notes&&e.jsxs("div",{className:"col-span-2",children:[e.jsx("p",{className:"font-medium text-gray-500",children:"Notes"}),e.jsx("p",{children:s.notes})]})]})})]}),e.jsxs(d,{className:"rounded-none",children:[e.jsxs(c,{children:[e.jsxs(n,{className:"flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5"}),"Prescribed Medications"]}),e.jsx(h,{children:"Medications and dosage instructions"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"overflow-x-auto border-y",children:e.jsxs(u,{children:[e.jsx(y,{children:e.jsxs(x,{children:[e.jsx(l,{children:"Medication"}),e.jsx(l,{children:"Active Ingredients"}),e.jsx(l,{children:"Instructions"}),e.jsx(l,{className:"text-right",children:"Qty"}),e.jsx(l,{className:"text-right",children:"Repeats"}),e.jsx(l,{className:"text-right",children:"Price"})]})}),e.jsx(v,{children:s.items.map(a=>e.jsxs(x,{children:[e.jsx(t,{className:"font-medium",children:a.medication_name}),e.jsx(t,{className:"text-sm text-gray-600",children:a.active_ingredients||"N/A"}),e.jsx(t,{children:a.instructions||"-"}),e.jsx(t,{className:"text-right",children:a.quantity}),e.jsxs(t,{className:"text-right",children:[a.repeats_used,"/",a.repeats]}),e.jsxs(t,{className:"text-right",children:["R",(Number(a.price)||0).toFixed(2)]})]},a.id))})]})}),e.jsx(f,{className:"my-4"}),e.jsxs("div",{className:"flex items-center justify-between font-semibold",children:[e.jsx("span",{children:"Total Prescription Value:"}),e.jsxs("span",{children:["R",(Number(m.prescription_total_value)||0).toFixed(2)]})]})]})]}),N.length>0&&e.jsxs(d,{className:"rounded-none",children:[e.jsxs(c,{children:[e.jsx(n,{children:"Dispensing History"}),e.jsx(h,{children:"Record of all dispensed medications"})]}),e.jsxs(r,{children:[e.jsx("div",{className:"overflow-x-auto border-y",children:e.jsxs(u,{children:[e.jsx(y,{children:e.jsxs(x,{children:[e.jsx(l,{children:"Date & Time"}),e.jsx(l,{children:"Medication"}),e.jsx(l,{children:"Quantity"}),e.jsx(l,{children:"Pharmacist"}),e.jsx(l,{children:"Pharmacy"}),e.jsx(l,{className:"text-right",children:"Cost"})]})}),e.jsx(v,{children:N.map(a=>e.jsxs(x,{children:[e.jsx(t,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:a.dispensed_date}),e.jsx("div",{className:"text-sm text-gray-500",children:a.dispensed_time})]})}),e.jsx(t,{children:a.medication_name}),e.jsx(t,{children:a.quantity_dispensed}),e.jsx(t,{children:a.pharmacist_name}),e.jsx(t,{children:a.pharmacy_name}),e.jsxs(t,{className:"text-right",children:["R",(Number(a.cost)||0).toFixed(2)]})]},a.id))})]})}),e.jsx(f,{className:"my-4"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Items Dispensed:"}),e.jsx("span",{className:"font-semibold",children:m.total_items_dispensed})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Total Amount Paid:"}),e.jsxs("span",{className:"font-semibold",children:["R",(Number(m.total_cost)||0).toFixed(2)]})]})]})]})]})]})]})]})]})}export{se as default};
