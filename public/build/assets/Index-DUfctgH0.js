import{K as y,r as i,j as e,L as D,$ as j,S as A}from"./app-DD1_j264.js";import{B as r}from"./createLucideIcon-CJXjctMu.js";import{C as u,a as p,b as f,c as g,d as v}from"./card-DMpxeHKD.js";import{D as T,a as _,b as P,c as S,d as k,e as E}from"./dialog-BWut1jda.js";import{T as L,a as z,b,c,d as F,e as d}from"./table-Bx2kdRqw.js";import{t as o,A as H}from"./app-layout-BjO8UPhY.js";import{P as B}from"./pencil-BvMgf6ao.js";import{T as I}from"./trash-2-2fdkUjjd.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function Y({activeIngredients:a}){var m;const l=(m=y().props.flash)==null?void 0:m.success;i.useEffect(()=>{l&&o.success(l)},[l]);const[C,t]=i.useState(!1),[n,x]=i.useState(null),N=()=>{n&&A.delete(route("manager.activeIngredients.destroy",n.id),{onSuccess:()=>{o.success("Deleted successfully."),t(!1),x(null)},onError:()=>o.error("Failed to delete."),onFinish:()=>t(!1)})},h=s=>{s&&(window.location.href=s)},w=[{title:"Active Ingredients",href:"/manager/active-ingredients"}];return e.jsxs(H,{breadcrumbs:w,children:[e.jsx(D,{title:"Active Ingredients"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-6 rounded-xl p-6",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(j,{href:route("manager.activeIngredients.create"),children:e.jsx(r,{children:"Add New Active Ingredient"})})}),a.data.length>0?e.jsxs(u,{className:"w-full rounded-none md:w-3/4",children:[e.jsxs(p,{children:[e.jsx(f,{children:"Active Ingredient List"}),e.jsx(g,{children:"A list of all recorded active ingredients."})]}),e.jsxs(v,{children:[e.jsxs(L,{children:[e.jsx(z,{children:e.jsxs(b,{children:[e.jsx(c,{children:"Name"}),e.jsx(c,{children:"Created At"}),e.jsx(c,{className:"text-right",children:"Actions"})]})}),e.jsx(F,{children:a.data.map(s=>e.jsxs(b,{children:[e.jsx(d,{children:s.name}),e.jsx(d,{children:new Date(s.created_at).toLocaleDateString()}),e.jsxs(d,{className:"flex justify-end space-x-2 text-right",children:[e.jsx(j,{href:route("manager.activeIngredients.edit",s.id),children:e.jsxs(r,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:[e.jsx(B,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(r,{variant:"destructive",size:"sm",className:"h-8 w-8 p-0",onClick:()=>{x({id:s.id,name:s.name}),t(!0)},children:[e.jsx(I,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})]},s.id))})]}),e.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[e.jsx(r,{variant:"outline",size:"sm",disabled:!a.prev_page_url,onClick:()=>h(a.prev_page_url),children:"Previous"}),e.jsxs("span",{children:["Page ",a.current_page," of ",a.last_page]}),e.jsx(r,{variant:"outline",size:"sm",disabled:!a.next_page_url,onClick:()=>h(a.next_page_url),children:"Next"})]})]})]}):e.jsxs(u,{className:"w-full rounded-none py-8 text-center md:w-3/4",children:[e.jsxs(p,{children:[e.jsx(f,{children:"No Active Ingredients Found"}),e.jsx(g,{children:"No active ingredients have been added yet."})]}),e.jsx(v,{children:e.jsx("p",{className:"mb-4 text-gray-700",children:"Click the button above to add your first active ingredient."})})]}),e.jsx(T,{open:C,onOpenChange:t,children:e.jsxs(_,{children:[e.jsxs(P,{children:[e.jsx(S,{children:"Are you sure you want to delete this?"}),e.jsx(k,{children:n!=null&&n.name?`"${n.name}" will be permanently removed.`:"This action cannot be undone."})]}),e.jsxs(E,{children:[e.jsx(r,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),e.jsx(r,{variant:"destructive",onClick:N,children:"Delete"})]})]})})]})]})}export{Y as default};
