import{r as g,j as e}from"./app-DD1_j264.js";function _({dosageForms:s=[],suppliers:o=[],activeIngredients:c=[]}){const[t,d]=g.useState({name:"",dosage_form_id:"",schedule:"",current_sale_price:"",supplier_id:"",reorder_level:"",quantity_on_hand:"",active_ingredients:[{id:"",strength:""}]}),i=n=>{d({...t,[n.target.name]:n.target.value})},l=(n,a,r)=>{const u=[...t.active_ingredients];u[n][a]=r,d({...t,active_ingredients:u})},h=()=>{d({...t,active_ingredients:[...t.active_ingredients,{id:"",strength:""}]})},p=n=>{d({...t,active_ingredients:t.active_ingredients.filter((a,r)=>r!==n)})},m=n=>{n.preventDefault(),Inertia.post(route("medications.store"),t)};return e.jsxs("form",{onSubmit:m,children:[e.jsx("h1",{children:"Create Medication"}),e.jsx("input",{name:"name",value:t.name,onChange:i,placeholder:"Name",required:!0}),e.jsxs("select",{name:"dosage_form_id",value:t.dosage_form_id,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select Dosage Form"}),s.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),e.jsx("input",{name:"schedule",type:"number",min:"0",max:"6",value:t.schedule,onChange:i,placeholder:"Schedule",required:!0}),e.jsx("input",{name:"current_sale_price",type:"number",step:"0.01",value:t.current_sale_price,onChange:i,placeholder:"Sale Price",required:!0}),e.jsxs("select",{name:"supplier_id",value:t.supplier_id,onChange:i,required:!0,children:[e.jsx("option",{value:"",children:"Select Supplier"}),o.map(n=>e.jsx("option",{value:n.id,children:n.name},n.id))]}),e.jsx("input",{name:"reorder_level",type:"number",value:t.reorder_level,onChange:i,placeholder:"Reorder Level",required:!0}),e.jsx("input",{name:"quantity_on_hand",type:"number",value:t.quantity_on_hand,onChange:i,placeholder:"Quantity On Hand",required:!0}),e.jsx("h3",{children:"Ingredients"}),t.active_ingredients.map((n,a)=>e.jsxs("div",{children:[e.jsxs("select",{value:n.id,onChange:r=>l(a,"id",r.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Ingredient"}),c.map(r=>e.jsx("option",{value:r.id,children:r.name},r.id))]}),e.jsx("input",{value:n.strength,onChange:r=>l(a,"strength",r.target.value),placeholder:"Strength (e.g. 500mg)",required:!0}),t.active_ingredients.length>1&&e.jsx("button",{type:"button",onClick:()=>p(a),children:"Remove"})]},a)),e.jsx("button",{type:"button",onClick:h,children:"Add Ingredient"}),e.jsx("button",{type:"submit",children:"Save"})]})}export{_ as default};
