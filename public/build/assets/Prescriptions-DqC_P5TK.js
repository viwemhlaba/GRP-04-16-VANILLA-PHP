import{r as m,j as e,$ as c}from"./app-DD1_j264.js";import{H as x}from"./heading-dqUOBQxD.js";import{B as u}from"./badge-PeB8ie60.js";import{B as i}from"./createLucideIcon-CJXjctMu.js";import{I as j}from"./input-cZgy-9z1.js";import{T as p,a as w,b as l,c as r,d as g,e as s}from"./table-Bx2kdRqw.js";import{A as b}from"./app-layout-BjO8UPhY.js";import"./index-D6cg2Mm3.js";import"./index-CR58GS18.js";import"./app-logo-DcjKhG5i.js";import"./pill-BS0WEZWH.js";function D({prescriptions:n}){const[a,d]=m.useState(""),o=n?n.filter(t=>t.id.toString().includes(a)||t.customer_name.toLowerCase().includes(a.toLowerCase())):[],h=t=>{switch(t.toLowerCase()){case"pending":return"bg-yellow-500 text-black";case"loaded":return"bg-blue-600 text-white";case"dispensed":return"bg-green-600 text-white";default:return"bg-gray-500 text-white"}};return e.jsx(b,{children:e.jsxs("div",{className:"p-6 text-white",children:[e.jsx(x,{title:"View Prescriptions",description:"Pharmacist / View Prescriptions"}),e.jsx("div",{className:"mb-4 max-w-md",children:e.jsx(j,{placeholder:"Search by ID or Customer Name...",value:a,onChange:t=>d(t.target.value)})}),e.jsx("div",{className:"overflow-x-auto rounded-lg border border-white/20",children:e.jsxs(p,{children:[e.jsx(w,{className:"bg-gray-800 text-white",children:e.jsxs(l,{children:[e.jsx(r,{className:"text-white",children:"Prescription #"}),e.jsx(r,{className:"text-white",children:"Customer"}),e.jsx(r,{className:"text-white",children:"Prescription Name"}),e.jsx(r,{className:"text-white",children:"Upload Date"}),e.jsx(r,{className:"text-white",children:"Status"}),e.jsx(r,{className:"text-white",children:"Actions"})]})}),e.jsx(g,{children:o.length===0?e.jsx(l,{children:e.jsx(s,{colSpan:6,className:"text-muted-foreground text-center",children:"No prescriptions found."})}):o.map(t=>e.jsxs(l,{children:[e.jsx(s,{children:t.id}),e.jsx(s,{children:t.customer_name}),e.jsx(s,{children:t.prescription_name}),e.jsx(s,{children:t.upload_date}),e.jsx(s,{children:e.jsx(u,{className:h(t.status),children:t.status})}),e.jsxs(s,{className:"flex flex-wrap gap-2",children:[e.jsx("a",{href:`/storage/${t.file_path}`,target:"_blank",rel:"noopener noreferrer",children:e.jsx(i,{variant:"outline",size:"sm",children:"Download"})}),e.jsx(c,{href:route("pharmacist.prescriptions.load",{id:t.id}),children:e.jsx(i,{variant:"default",size:"sm",className:"bg-white text-black",disabled:t.status!=="pending",children:"Load Prescription"})}),e.jsx(c,{as:"button",method:"delete",href:route("pharmacist.prescriptions.destroy",t.id),children:e.jsx(i,{variant:"destructive",size:"sm",children:"Delete"})})]})]},t.id))})]})})]})})}export{D as default};
